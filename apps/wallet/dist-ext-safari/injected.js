class o{events=new Map;pendingRequests=new Map;isJeju=!0;isMetaMask=!0;chainId=null;selectedAddress=null;networkVersion=null;constructor(){this.setupEventListener(),this.initialize()}setupEventListener(){window.addEventListener("message",t=>{if(t.source!==window)return;const e=t.data;if(e?.type==="jeju_response"){const s=this.pendingRequests.get(e.id);if(s)if(this.pendingRequests.delete(e.id),e.error){const n=new Error(e.error.message);n.code=e.error.code,s.reject(n)}else s.resolve(e.result)}e?.type==="jeju_event"&&this.handleEvent(e.event,e.data)})}async initialize(){try{this.chainId=await this.request({method:"eth_chainId"}),this.networkVersion=parseInt(this.chainId,16).toString();const t=await this.request({method:"eth_accounts"});t.length>0&&(this.selectedAddress=t[0])}catch{}}handleEvent(t,e){switch(t){case"chainChanged":this.chainId=e.chainId,this.networkVersion=parseInt(this.chainId,16).toString(),this.emit("chainChanged",this.chainId);break;case"accountsChanged":const s=e.accounts;this.selectedAddress=s[0]??null,this.emit("accountsChanged",s);break;case"connect":this.emit("connect",{chainId:this.chainId});break;case"disconnect":this.selectedAddress=null,this.emit("disconnect",{code:4900,message:"Disconnected"});break}}async request(t){const e=crypto.randomUUID();return new Promise((s,n)=>{this.pendingRequests.set(e,{resolve:s,reject:n}),window.postMessage({type:"jeju_request",method:t.method,params:t.params,id:e},"*"),setTimeout(()=>{this.pendingRequests.has(e)&&(this.pendingRequests.delete(e),n(new Error("Request timed out")))},3e5)})}async enable(){return this.request({method:"eth_requestAccounts"})}async send(t,e){return this.request({method:t,params:e})}async sendAsync(t,e){try{const s=await this.request({method:t.method,params:t.params});e(null,{result:s})}catch(s){e(s)}}on(t,e){return this.events.has(t)||this.events.set(t,new Set),this.events.get(t).add(e),this}once(t,e){const s=(...n)=>{this.removeListener(t,s),e(...n)};return this.on(t,s)}removeListener(t,e){return this.events.get(t)?.delete(e),this}removeAllListeners(t){return t?this.events.delete(t):this.events.clear(),this}emit(t,...e){this.events.get(t)?.forEach(s=>{try{s(...e)}catch(n){console.error("Event callback error:",n)}})}getProviderInfo(){return{uuid:"c2a0e8c4-6c6b-4f3a-8d4e-9f0b1a2c3d4e",name:"Network Wallet",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjEyOCIgaGVpZ2h0PSIxMjgiIHJ4PSIyNCIgZmlsbD0iIzEwQjk4MSIvPjx0ZXh0IHg9IjY0IiB5PSI4MCIgZm9udC1zaXplPSI2NCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0id2hpdGUiIGZvbnQtZmFtaWx5PSJzeXN0ZW0tdWkiIGZvbnQtd2VpZ2h0PSJib2xkIj5KPC90ZXh0Pjwvc3ZnPg==",rdns:"network.jeju.wallet"}}}const i=new o;function d(){const r=i.getProviderInfo();window.dispatchEvent(new CustomEvent("eip6963:announceProvider",{detail:{info:r,provider:i}}))}window.addEventListener("eip6963:requestProvider",d);d();window.ethereum||(window.ethereum=i);window.jeju=i;console.log("Network Wallet provider injected");
