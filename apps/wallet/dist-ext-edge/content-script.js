function o(){const e=document.createElement("script");e.src=chrome.runtime.getURL("injected.js"),e.onload=()=>e.remove(),(document.head||document.documentElement).appendChild(e)}window.addEventListener("message",async e=>{if(e.source!==window||e.data?.type!=="jeju_request")return;const t=e.data;try{const n=await chrome.runtime.sendMessage({type:t.method,data:t.params?.[0],id:t.id}),s={type:"jeju_response",id:t.id,result:n};window.postMessage(s,"*")}catch(n){const s={type:"jeju_response",id:t.id,error:{code:4001,message:n instanceof Error?n.message:"Unknown error"}};window.postMessage(s,"*")}});chrome.runtime.onMessage.addListener(e=>{window.postMessage({type:"jeju_event",event:e.type,data:e},"*")});document.readyState==="loading"?document.addEventListener("DOMContentLoaded",o):o();
