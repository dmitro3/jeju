{
  "$schema": "../../packages/config/jeju-manifest.schema.json",
  "name": "example",
  "displayName": "Decentralized App Template",
  "version": "1.0.0",
  "type": "app",
  "description": "A production-ready template for building fully decentralized applications on Jeju Network. Includes: CQL database, IPFS storage, KMS encryption, Cron triggers, JNS naming, REST API, A2A protocol, MCP tools, x402 payments, and OAuth3 authentication.",
  "commands": {
    "dev": "bun run src/server/index.ts",
    "dev:frontend": "bun run --hot src/frontend/dev.ts",
    "build": "bun run build.ts",
    "start": "bun run dist/server/index.js",
    "test": "bun test",
    "test:e2e": "bun run src/tests/e2e.test.ts",
    "test:synpress": "synpress run --config synpress.config.ts",
    "deploy": "bun run deploy.ts",
    "migrate": "bun run src/db/migrate.ts",
    "seed": "bun run scripts/seed.ts"
  },
  "ports": {
    "main": 4500,
    "frontend": 4501
  },
  "dependencies": ["contracts", "config"],
  "optional": false,
  "enabled": true,
  "autoStart": false,
  "tags": ["template", "dapp", "full-stack", "decentralized", "a2a", "mcp", "cql", "kms", "jns", "storage", "compute", "cron", "cache", "x402", "oauth3"],
  "jns": {
    "name": "example.jeju",
    "description": "Decentralized App Template",
    "url": "https://template.jejunetwork.org"
  },
  "healthCheck": {
    "url": "http://localhost:4500/health",
    "interval": 30000
  },
  "agent": {
    "enabled": true,
    "a2aEndpoint": "/a2a",
    "mcpEndpoint": "/mcp",
    "tags": ["jeju-app", "template", "dapp"],
    "metadata": {
      "category": "template",
      "provider": "jeju-network",
      "features": ["full-decentralization", "ai-integration", "scheduled-tasks", "encrypted-data", "x402-payments", "oauth3-auth"]
    },
    "trustModels": ["open", "staked"],
    "x402Support": true,
    "multiTokenPayments": true,
    "jnsName": "example.jeju"
  },
  "dws": {
    "backend": {
      "enabled": true,
      "runtime": "bun",
      "entrypoint": "src/server/index.ts",
      "memory": 256,
      "timeout": 30000,
      "minInstances": 1,
      "maxInstances": 5,
      "teeRequired": false,
      "regions": ["global"]
    },
    "cdn": {
      "enabled": true,
      "regions": ["global"],
      "staticDir": "dist/frontend",
      "cacheRules": [
        { "pattern": "/assets/**", "ttl": 31536000, "immutable": true },
        { "pattern": "/*.js", "ttl": 86400 },
        { "pattern": "/*.css", "ttl": 86400 },
        { "pattern": "/**/*.html", "ttl": 60, "staleWhileRevalidate": 3600 }
      ]
    },
    "database": {
      "type": "covenantsql",
      "name": "example-db"
    }
  },
  "services": {
    "database": {
      "type": "cql",
      "databaseId": "example-db"
    },
    "cache": {
      "type": "compute",
      "provider": "redis-compatible"
    },
    "storage": {
      "type": "ipfs",
      "tier": "hot"
    },
    "secrets": {
      "type": "kms",
      "provider": "mpc"
    },
    "triggers": {
      "type": "cron",
      "schedules": ["cleanup", "reminders", "sync"]
    },
    "auth": {
      "type": "oauth3",
      "providers": ["wallet", "farcaster", "github", "google", "twitter", "discord"],
      "teeAgent": "http://localhost:8004",
      "registry": "on-chain"
    }
  },
  "testing": {
    "e2e": {
      "command": "bun run src/tests/e2e.test.ts",
      "timeout": 120000,
      "requiresChain": true
    },
    "synpress": {
      "command": "synpress run --config synpress.config.ts",
      "timeout": 180000,
      "requiresChain": true,
      "requiresWallet": true
    }
  },
  "decentralization": {
    "cdn": {
      "enabled": true,
      "regions": ["global"],
      "cacheRules": [
        { "pattern": "/assets/**", "ttl": 31536000, "immutable": true },
        { "pattern": "/api/**", "ttl": 0 },
        { "pattern": "/**/*.html", "ttl": 60, "staleWhileRevalidate": 3600 }
      ],
      "serviceWorker": true
    },
    "frontend": {
      "ipfs": true,
      "arweave": true,
      "jnsName": "example.jeju",
      "buildDir": "dist",
      "spa": true
    },
    "robustness": {
      "multiOrigin": true,
      "offlineSupport": true,
      "p2pFallback": true,
      "contentAddressed": true
    }
  },
  "template": {
    "isTemplate": true,
    "variables": {
      "APP_NAME": "Your App Name",
      "JNS_NAME": "yourapp.jeju",
      "DATABASE_ID": "yourapp-db",
      "DESCRIPTION": "Your app description",
      "OAUTH3_APP_ID": "yourapp.oauth3.jeju",
      "OAUTH3_TEE_AGENT_URL": "http://localhost:8004"
    }
  }
}
