{
  "$schema": "../../packages/config/jeju-manifest.schema.json",
  "name": "autocrat",
  "displayName": "Autocrat",
  "version": "3.0.0",
  "type": "core",
  "description": "AI-powered autonomous governance with futarchy, deep research, and multi-agent decision making",
  "maintainer": "jeju-network",
  "repository": "https://github.com/jejunetwork/jeju",
  "architecture": {
    "type": "hybrid",
    "runtime": "workerd",
    "frontend": {
      "type": "spa",
      "builder": "bun",
      "entrypoint": "index.html",
      "outputDir": "dist/static"
    },
    "backend": {
      "type": "elysia",
      "entrypoint": "api/worker.ts",
      "startCmd": "bun --watch api/worker.ts",
      "outputDir": "dist/worker"
    }
  },
  "commands": {
    "dev": "bun run scripts/dev.ts",
    "dev:api": "bun --watch api/worker.ts",
    "build": "bun run build",
    "build:worker": "bun run scripts/build.ts",
    "start:worker": "bun api/worker.ts",
    "start": "bun run scripts/serve.ts",
    "test": "SKIP_TEE_TESTS=true bun test tests/unit/",
    "deploy": "bun run scripts/deploy.ts"
  },
  "ports": {
    "main": 4040,
    "frontend": 4042,
    "api": 4040
  },
  "dependencies": [
    "contracts",
    "config",
    "dws",
    "db"
  ],
  "optional": false,
  "enabled": true,
  "autoStart": true,
  "tags": [
    "governance",
    "dao",
    "ai",
    "futarchy",
    "proposals",
    "voting",
    "research",
    "serverless"
  ],
  "endpoints": {
    "a2a": "/a2a",
    "mcp": "/mcp",
    "rest": "/api/v1",
    "health": "/health"
  },
  "jns": {
    "name": "autocrat.jeju",
    "description": "AI-Powered Autonomous Governance",
    "testnet": "https://autocrat.testnet.jejunetwork.org",
    "mainnet": "https://autocrat.jejunetwork.org"
  },
  "healthCheck": {
    "frontend": {
      "url": "http://localhost:4042",
      "interval": 30000
    },
    "api": {
      "url": "http://localhost:4040/health",
      "interval": 30000
    }
  },
  "agent": {
    "enabled": true,
    "a2aEndpoint": "/a2a",
    "mcpEndpoint": "/mcp",
    "tags": [
      "jeju-app",
      "governance",
      "dao",
      "proposals",
      "voting",
      "futarchy"
    ],
    "metadata": {
      "category": "governance",
      "provider": "jeju-network",
      "features": [
        "ai-agents",
        "futarchy",
        "deep-research",
        "multi-agent"
      ]
    },
    "trustModels": [
      "open",
      "staked"
    ],
    "x402Support": true,
    "jnsName": "autocrat.jeju"
  },
  "capabilities": {
    "governance": true,
    "proposals": true,
    "voting": true,
    "futarchy": true,
    "aiAgents": true,
    "reputation": true,
    "deepResearch": true
  },
  "integrations": {
    "dws": "@jejunetwork/dws",
    "leaderboard": "@jejunetwork/leaderboard",
    "contracts": "@jejunetwork/contracts"
  },
  "agents": [
    {
      "id": "autocrat-director",
      "name": "Eliza",
      "role": "Director",
      "description": "AI Director - Final decision maker for approved proposals",
      "model": "claude-opus-4-5-20250514",
      "isHuman": false,
      "decisionFallbackDays": 7
    },
    {
      "id": "autocrat-treasury",
      "name": "Treasury Board Member",
      "role": "Board",
      "description": "Reviews financial impact and treasury implications",
      "isHuman": false
    },
    {
      "id": "autocrat-code",
      "name": "Code Board Member",
      "role": "Board",
      "description": "Reviews technical proposals and code changes",
      "isHuman": false
    },
    {
      "id": "autocrat-community",
      "name": "Community Board Member",
      "role": "Board",
      "description": "Reviews community impact and social implications",
      "isHuman": false
    },
    {
      "id": "autocrat-security",
      "name": "Security Board Member",
      "role": "Board",
      "description": "Reviews security implications and risk assessment",
      "isHuman": false
    },
    {
      "id": "proposal-agent",
      "name": "Proposal Assistant",
      "role": "Intake",
      "description": "Helps users craft high-quality proposals"
    },
    {
      "id": "research-agent",
      "name": "Deep Researcher",
      "role": "Research",
      "description": "Conducts deep research on approved proposals"
    }
  ],
  "governance": {
    "humanDirector": {
      "enabled": true,
      "decisionFallbackDays": 7,
      "dashboardUrl": "/director",
      "contextProviders": [
        "board-votes",
        "research-report",
        "risk-assessment",
        "historical-decisions"
      ]
    },
    "humanBoardMembers": {
      "enabled": true,
      "dashboardUrl": "/board",
      "votingInterface": true
    },
    "appealCourt": {
      "enabled": true,
      "stakeMinimum": "1000000000000000000000",
      "boardReviewPeriod": 604800
    }
  },
  "contracts": {
    "Autocrat": "0x0000000000000000000000000000000000000000",
    "ProposalRegistry": "0x0000000000000000000000000000000000000000",
    "AgentRegistry": "0x0000000000000000000000000000000000000000"
  },
  "dws": {
    "backend": {
      "enabled": true,
      "runtime": "workerd",
      "entrypoint": "api/worker.ts",
      "memory": 512,
      "timeout": 60000,
      "minInstances": 1,
      "maxInstances": 10,
      "teeRequired": true,
      "regions": ["global"]
    },
    "worker": {
      "name": "autocrat-api",
      "entrypoint": "api/worker.ts",
      "compatibilityDate": "2025-06-01",
      "tee": {
        "required": true,
        "preferred": true,
        "platforms": ["dstack", "phala"]
      },
      "bindings": {
        "kv": {
          "AUTOCRAT_CACHE": "autocrat-cache-kv"
        },
        "secrets": ["OPERATOR_KEY", "ASSESSOR_KEY", "SQLIT_PRIVATE_KEY"]
      },
      "routes": [
        { "pattern": "/api/*", "zone": "autocrat-api" },
        { "pattern": "/a2a/*", "zone": "autocrat-api" },
        { "pattern": "/mcp/*", "zone": "autocrat-api" },
        { "pattern": "/health", "zone": "autocrat-api" }
      ]
    },
    "database": {
      "type": "sqlit",
      "name": "autocrat-db",
      "consistency": "strong",
      "tables": ["proposals", "dao_configs", "agent_state"]
    },
    "cdn": {
      "enabled": true,
      "regions": ["global"],
      "staticDir": "dist/static",
      "cacheRules": [
        { "pattern": "/assets/**", "ttl": 31536000, "immutable": true },
        { "pattern": "/*.js", "ttl": 86400 },
        { "pattern": "/*.css", "ttl": 86400 },
        { "pattern": "/**/*.html", "ttl": 60, "staleWhileRevalidate": 3600 }
      ]
    },
    "triggers": [
      {
        "name": "autocrat-orchestrator-cycle",
        "schedule": "*/30 * * * *",
        "entrypoint": "api/compute-trigger.ts",
        "handler": "runOrchestratorCycle"
      },
      {
        "name": "autocrat-proposal-submitted",
        "event": "proposal_submitted",
        "entrypoint": "api/compute-trigger.ts",
        "handler": "handleProposalSubmitted"
      }
    ],
    "tee": {
      "platform": "dstack",
      "attestation": true,
      "decryption": true,
      "secrets": [
        "OPERATOR_KEY",
        "ASSESSOR_KEY"
      ]
    }
  },
  "decentralization": {
    "worker": {
      "name": "autocrat-api",
      "entrypoint": "api/worker.ts",
      "runtime": "workerd",
      "memory": 512,
      "timeout": 60000,
      "compatibilityDate": "2025-06-01",
      "bindings": {
        "AUTOCRAT_CACHE": { "type": "kv", "name": "autocrat-cache-kv" }
      },
      "secrets": ["OPERATOR_KEY", "ASSESSOR_KEY", "SQLIT_PRIVATE_KEY"],
      "routes": [
        { "pattern": "/api/*" },
        { "pattern": "/a2a/*" },
        { "pattern": "/mcp/*" },
        { "pattern": "/health" }
      ],
      "tee": {
        "required": true,
        "preferred": true,
        "platforms": ["dstack", "phala"]
      }
    },
    "frontend": {
      "buildDir": "dist/static",
      "buildCommand": "bun run build",
      "spa": true,
      "jnsName": "autocrat.jeju",
      "ipfs": true,
      "arweave": true,
      "cacheRules": [
        { "pattern": "/assets/**", "ttl": 31536000, "immutable": true },
        { "pattern": "/*.js", "ttl": 86400 },
        { "pattern": "/*.css", "ttl": 86400 },
        { "pattern": "/**/*.html", "ttl": 60, "staleWhileRevalidate": 3600 }
      ]
    },
    "robustness": {
      "multiOrigin": true,
      "offlineSupport": true,
      "p2pFallback": true,
      "contentAddressed": true
    }
  },
  "testing": {
    "unit": {
      "command": "SKIP_TEE_TESTS=true bun test tests/*.test.ts tests/integration/",
      "timeout": 300000
    },
    "e2e": {
      "command": "bunx playwright test tests/synpress",
      "timeout": 300000,
      "requiresChain": true
    },
    "services": ["contracts", "indexer", "dws"]
  }
}
