export default class Data1766810359274 {
    name = 'Data1766810359274'

    async up(db) {
        await db.query(`CREATE TABLE "token_approval_event" ("id" character varying NOT NULL, "value" numeric NOT NULL, "is_revoke" boolean NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "chain_id" integer NOT NULL, "owner_id" character varying, "spender_id" character varying, "token_id" character varying, "block_id" character varying, "transaction_id" character varying, CONSTRAINT "PK_8479f4a55ef1e6956e9d737a975" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_1d63c9613d8761047302cae888" ON "token_approval_event" ("owner_id") `)
        await db.query(`CREATE INDEX "IDX_7cb9105a5ba85f4855d6892bf4" ON "token_approval_event" ("spender_id") `)
        await db.query(`CREATE INDEX "IDX_4b04fb495633504853f80d82ef" ON "token_approval_event" ("token_id") `)
        await db.query(`CREATE INDEX "IDX_a4364e1758054890d9062cb336" ON "token_approval_event" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_12628e08878dfbb3ad42b201f2" ON "token_approval_event" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_9ca5c1414afc858c87cf660c99" ON "token_approval_event" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_714f699a987f555bac33ea7fa0" ON "token_approval_event" ("chain_id") `)
        await db.query(`CREATE TABLE "nft_approval_event" ("id" character varying NOT NULL, "token_id" character varying, "approved" boolean NOT NULL, "is_approval_for_all" boolean NOT NULL, "token_standard" character varying(7) NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "chain_id" integer NOT NULL, "owner_id" character varying, "operator_id" character varying, "block_id" character varying, "transaction_id" character varying, CONSTRAINT "PK_03e3efd66668dc2e1f88b8cd0bd" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_ee169f47d4f39602b1d2c8ab9d" ON "nft_approval_event" ("owner_id") `)
        await db.query(`CREATE INDEX "IDX_3de13dc4ad13bb2660bcba55ce" ON "nft_approval_event" ("operator_id") `)
        await db.query(`CREATE INDEX "IDX_61ddbfa465f53693f1b230468e" ON "nft_approval_event" ("token_id") `)
        await db.query(`CREATE INDEX "IDX_056f3dd7263ee418eaf05f243b" ON "nft_approval_event" ("token_standard") `)
        await db.query(`CREATE INDEX "IDX_ceb2caa3f5ea24f23f675ffcb5" ON "nft_approval_event" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_2011ca55e9ccd3518ebd0994a3" ON "nft_approval_event" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_bcd01e4b8fd19d63af8d15ae9c" ON "nft_approval_event" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_e8a3a6b27b482beafd2ab48498" ON "nft_approval_event" ("chain_id") `)
        await db.query(`ALTER TABLE "token_approval_event" ADD CONSTRAINT "FK_1d63c9613d8761047302cae8887" FOREIGN KEY ("owner_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_approval_event" ADD CONSTRAINT "FK_7cb9105a5ba85f4855d6892bf45" FOREIGN KEY ("spender_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_approval_event" ADD CONSTRAINT "FK_4b04fb495633504853f80d82efb" FOREIGN KEY ("token_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_approval_event" ADD CONSTRAINT "FK_a4364e1758054890d9062cb3361" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_approval_event" ADD CONSTRAINT "FK_12628e08878dfbb3ad42b201f2c" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nft_approval_event" ADD CONSTRAINT "FK_ee169f47d4f39602b1d2c8ab9df" FOREIGN KEY ("owner_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nft_approval_event" ADD CONSTRAINT "FK_3de13dc4ad13bb2660bcba55cef" FOREIGN KEY ("operator_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nft_approval_event" ADD CONSTRAINT "FK_61ddbfa465f53693f1b230468e8" FOREIGN KEY ("token_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nft_approval_event" ADD CONSTRAINT "FK_ceb2caa3f5ea24f23f675ffcb51" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nft_approval_event" ADD CONSTRAINT "FK_2011ca55e9ccd3518ebd0994a38" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`DROP TABLE "token_approval_event"`)
        await db.query(`DROP INDEX "public"."IDX_1d63c9613d8761047302cae888"`)
        await db.query(`DROP INDEX "public"."IDX_7cb9105a5ba85f4855d6892bf4"`)
        await db.query(`DROP INDEX "public"."IDX_4b04fb495633504853f80d82ef"`)
        await db.query(`DROP INDEX "public"."IDX_a4364e1758054890d9062cb336"`)
        await db.query(`DROP INDEX "public"."IDX_12628e08878dfbb3ad42b201f2"`)
        await db.query(`DROP INDEX "public"."IDX_9ca5c1414afc858c87cf660c99"`)
        await db.query(`DROP INDEX "public"."IDX_714f699a987f555bac33ea7fa0"`)
        await db.query(`DROP TABLE "nft_approval_event"`)
        await db.query(`DROP INDEX "public"."IDX_ee169f47d4f39602b1d2c8ab9d"`)
        await db.query(`DROP INDEX "public"."IDX_3de13dc4ad13bb2660bcba55ce"`)
        await db.query(`DROP INDEX "public"."IDX_61ddbfa465f53693f1b230468e"`)
        await db.query(`DROP INDEX "public"."IDX_056f3dd7263ee418eaf05f243b"`)
        await db.query(`DROP INDEX "public"."IDX_ceb2caa3f5ea24f23f675ffcb5"`)
        await db.query(`DROP INDEX "public"."IDX_2011ca55e9ccd3518ebd0994a3"`)
        await db.query(`DROP INDEX "public"."IDX_bcd01e4b8fd19d63af8d15ae9c"`)
        await db.query(`DROP INDEX "public"."IDX_e8a3a6b27b482beafd2ab48498"`)
        await db.query(`ALTER TABLE "token_approval_event" DROP CONSTRAINT "FK_1d63c9613d8761047302cae8887"`)
        await db.query(`ALTER TABLE "token_approval_event" DROP CONSTRAINT "FK_7cb9105a5ba85f4855d6892bf45"`)
        await db.query(`ALTER TABLE "token_approval_event" DROP CONSTRAINT "FK_4b04fb495633504853f80d82efb"`)
        await db.query(`ALTER TABLE "token_approval_event" DROP CONSTRAINT "FK_a4364e1758054890d9062cb3361"`)
        await db.query(`ALTER TABLE "token_approval_event" DROP CONSTRAINT "FK_12628e08878dfbb3ad42b201f2c"`)
        await db.query(`ALTER TABLE "nft_approval_event" DROP CONSTRAINT "FK_ee169f47d4f39602b1d2c8ab9df"`)
        await db.query(`ALTER TABLE "nft_approval_event" DROP CONSTRAINT "FK_3de13dc4ad13bb2660bcba55cef"`)
        await db.query(`ALTER TABLE "nft_approval_event" DROP CONSTRAINT "FK_61ddbfa465f53693f1b230468e8"`)
        await db.query(`ALTER TABLE "nft_approval_event" DROP CONSTRAINT "FK_ceb2caa3f5ea24f23f675ffcb51"`)
        await db.query(`ALTER TABLE "nft_approval_event" DROP CONSTRAINT "FK_2011ca55e9ccd3518ebd0994a38"`)
    }
}
