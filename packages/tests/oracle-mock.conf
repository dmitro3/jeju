# Mock Oracle API for testing
# Returns static price data

server {
    listen 80;
    server_name localhost;

    location /health {
        default_type application/json;
        return 200 '{"status":"ok","mock":true}';
    }

    location /api/v1/prices {
        default_type application/json;
        return 200 '{"ETH/USD":{"price":3500,"timestamp":1702500000},"BTC/USD":{"price":95000,"timestamp":1702500000}}';
    }

    location /api/v1/price {
        default_type application/json;
        return 200 '{"pair":"ETH/USD","price":3500,"timestamp":1702500000}';
    }

    location /api/v1/latestRoundData {
        default_type application/json;
        return 200 '{"roundId":"1","answer":"350000000000","startedAt":1702500000,"updatedAt":1702500000}';
    }

    location / {
        default_type application/json;
        return 404 '{"error":"not found"}';
    }
}

