# Testnet values for Crucible

replicaCount:
  api: 2
  executor: 1
  bot: 1

image:
  repository: jeju/crucible
  tag: "testnet"

ingress:
  enabled: true
  className: "alb"
  annotations:
    kubernetes.io/ingress.class: alb
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
    alb.ingress.kubernetes.io/certificate-arn: ${ACM_CERTIFICATE_ARN}
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}, {"HTTPS": 443}]'
    alb.ingress.kubernetes.io/ssl-redirect: "443"
  hosts:
    - host: testnet-crucible.jejunetwork.org
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: crucible-tls
      hosts:
        - testnet-crucible.jejunetwork.org

config:
  network: testnet
  rpcUrl: https://sepolia.base.org
  contracts:
    agentVault: "0x0000000000000000000000000000000000000000"
    roomRegistry: "0x0000000000000000000000000000000000000000"
    triggerRegistry: "0x0000000000000000000000000000000000000000"
    identityRegistry: "0x0000000000000000000000000000000000000000"
    serviceRegistry: "0x0000000000000000000000000000000000000000"
    autocratTreasury: "0x0000000000000000000000000000000000000000"
  services:
    computeMarketplace: https://testnet-compute.jejunetwork.org
    storageApi: https://testnet-storage.jejunetwork.org
    ipfsGateway: https://testnet-ipfs.jejunetwork.org
    indexerGraphql: https://testnet-indexer.jejunetwork.org/graphql
    cqlEndpoint: https://testnet-cql.jejunetwork.org
    dexCacheUrl: https://testnet-storage.jejunetwork.org/cache

# MEV + LP Bot configuration for testnet
bot:
  enabled: true
  enableArbitrage: true
  enableCrossChain: true
  enableSolanaArb: true
  enableLiquidity: true
  enableYieldFarming: true
  solanaRpcUrl: "https://api.devnet.solana.com"
  solanaNetwork: "devnet"
  minProfitBps: 100  # Higher threshold for testnet
  maxSlippageBps: 200
  # Yield farming configuration for testnet
  yieldFarming:
    minApr: 0.5           # Lower threshold for testing
    maxRiskScore: 80      # Accept higher risk for testing
    preferRealYield: true
    minTvl: 10000         # Lower TVL threshold for testnet
    maxPositionPercent: 30
    autoCompound: true
    autoRebalance: true

resources:
  api:
    requests:
      cpu: 200m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 1Gi
  executor:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: 2000m
      memory: 2Gi
  bot:
    requests:
      cpu: 1000m
      memory: 2Gi
    limits:
      cpu: 4000m
      memory: 8Gi
